function validateFields(){var e=!1;return $("#log_username").val().length>0?($("#errLogin").text("*"),e=!0):($("#errLogin").text("Username Required"),e=!1),$("#log_password").val().length>0?($("#errPassword").text("*"),e=!0):($("#errPassword").text("Password Required"),e=!1),e}function ClearLoginText(){$("#log_username_span").text(""),$("#log_password_span").text("")}function ValidateLoginFields(){var e=!0;return $("#log_username").val().length<1&&($("#log_username_span").append("Please enter User Name.").css("font-weight","bold").css("color","red").focus(!0),e=!1),$("#log_password").val().length<1&&($("#log_password_span").append("Please enter Password.").css("font-weight","bold").css("color","red"),e=!1),e}function ClearCreateText(){$("#reg_span_username").text(""),$("#reg_span_pwd1").text(""),$("#reg_span_pwd2").text(""),$("#reg_span_pwd3").text(""),$("#reg_span_fname").text(""),$("#reg_span_lname").text(""),$("#reg_span_email1").text(""),$("#reg_span_email2").text(""),$("#reg_span_email3").text("")}function ValidateCreateFields(){var e=!0;return $("#user_name").val().length<1&&($("#reg_span_username").append("Please enter User Name.").css("font-weight","bold").css("color","red").focus(!0),e=!1),$("#pwd").val().length<1&&($("#reg_span_pwd1").append("Please enter Password.").css("font-weight","bold").css("color","red"),e=!1),$("#first_name").val().length<1&&($("#reg_span_fname").append("Please enter Your First Name.").css("font-weight","bold").css("color","red").focus(!0),e=!1),$("#last_name").val().length<1&&($("#reg_span_lname").append("Please enter Your Last Name.").css("font-weight","bold").css("color","red"),e=!1),$("#email").val().length<1&&($("#reg_span_email1").append("Please enter Email Address.").css("font-weight","bold").css("color","red").focus(!0),e=!1),document.getElementById("pwd").value!=document.getElementById("pwdConfirm").value&&(e=!1,$("#reg_span_pwd1").append("Passwords do not match").css("font-weight","bold").css("color","red")),document.getElementById("email").value!=document.getElementById("email_confirm").value&&(e=!1,$("#reg_span_email1").append("Email Address do not match").css("font-weight","bold").css("color","red")),validateEmail(document.getElementById("email").value)||(e=!1,$("#reg_span_email1").append("<br />Please Enter Valid Email Address").css("font-weight","bold").css("color","red")),e}function validateEmail(e){var a=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return a.test(e)}function PostData(e,a,s){$.ajax({type:"POST",url:e,data:JSON.stringify(a),contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){if("login"==s){var a=$.parseJSON(e.d);1==a.response?redirect(a.red):$("#log_username_span").append("Wrong Username or Password").css("color","red").css("font-weight","bold").focus(!0)}"create"==s&&(1==e.d?$("#reg_span_username").append("Registration Successful. Please verify your email.").css("color","green").css("font-weight","bold").focus(!0):$("#reg_span_username").append("<br />Sorry this Email is already registered.").css("color","red").css("font-weight","bold").focus(!0)),"email"==s&&0==e.d&&$("#reg_span_email1").append("<br />This email address is already registered").css("font-weight","bold").css("color","red")},error:function(e){}})}function redirect(e){if("undefined"!=typeof IE_fix){document.write("redirecting...");var a=document.createElement("a");a.href=e,document.body.appendChild(a),a.click()}else window.location.replace(e)}$(document).ready(function(){$("#log_username").focus(),$("#log_username").focusout(function(){$("#log_username").val().length>0?($("#errLogin").text("*"),bool=!0):($("#errLogin").text("Username Required"),bool=!1)}),$("#log_password").focusout(function(){$("#log_password").val().length>0?($("#errPassword").text("*"),bool=!0):($("#errPassword").text("Password Required"),bool=!1)})}),$("#submit").on("click",function(){validateFields()&&$.ajax({type:"POST",url:"login/login",data:JSON.stringify({un:$("#log_username").val(),pw:$("#log_password").val()}),contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){"FALSE"==e?$("#msg").text("USERNAME OR PASSWORD INCORRECT"):window.location=e},error:function(e){}})}),$("#btn_login").on("click",function(){if(ClearLoginText(),ValidateLoginFields()){var e={un:$("#log_username").val(),pw:$("#log_password").val()},a="login.aspx/LoginValidate";PostData(a,e,"login")}}),$("#btn_register").on("click",function(){if(ClearCreateText(),ValidateCreateFields()){var e={un:$("#user_name").val(),pw:$("#pwd").val(),fn:$("#first_name").val(),mn:$("#middle_name").val(),lm:$("#last_name").val(),em:$("#email").val()},a="login.aspx/CreateUser";PostData(a,e,"create")}}),$("#pwd").keyup(function(){$("#reg_span_pwd1").text(""),$("#reg_span_pwd2").text(""),document.getElementById("pwd").value!=document.getElementById("pwdConfirm").value&&($("#reg_span_pwd1").append("Passwords do not match").css("font-weight","bold").css("color","red"),$("#reg_span_pwd2").append("Passwords do not match").css("font-weight","bold").css("color","red"))}),$("#pwdConfirm").keyup(function(){$("#reg_span_pwd1").text(""),$("#reg_span_pwd2").text(""),document.getElementById("pwd").value!=document.getElementById("pwdConfirm").value&&($("#reg_span_pwd1").append("Passwords do not match").css("font-weight","bold").css("color","red"),$("#reg_span_pwd2").append("Passwords do not match").css("font-weight","bold").css("color","red"))}),$("#email").keyup(function(){if($("#reg_span_email1").text(""),$("#reg_span_email2").text(""),document.getElementById("email").value!=document.getElementById("email_confirm").value&&($("#reg_span_email1").append("Email Address do not match").css("font-weight","bold").css("color","red"),$("#reg_span_email2").append("Email Address do not match").css("font-weight","bold").css("color","red")),validateEmail(document.getElementById("email").value)){var e={email:$("#email").val()},a="login.aspx/CheckEmail";PostData(a,e,"email")}else flag=!1,$("#reg_span_email1").append("<br />Please Enter Valid Email Address").css("font-weight","bold").css("color","red")}),$("#email_confirm").keyup(function(){if($("#reg_span_email1").text(""),$("#reg_span_email2").text(""),document.getElementById("email").value!=document.getElementById("email_confirm").value&&($("#reg_span_email1").append("Email address do not match").css("font-weight","bold").css("color","red"),$("#reg_span_email2").append("Email address do not match").css("font-weight","bold").css("color","red")),validateEmail(document.getElementById("email").value)){var e={email:$("#email").val()},a="login.aspx/CheckEmail";PostData(a,e,"email")}else flag=!1,$("#reg_span_email2").append("<br />Please Enter Valid Email Address").css("font-weight","bold").css("color","red")});